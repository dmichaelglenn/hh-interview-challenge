let e="";e="1234"===window.location.port?"http://localhost:8080/colors":"/colors";const t=document.getElementById("main"),n=document.getElementById("active-window"),o=document.getElementById("fake-tiles"),a=document.getElementById("pagination"),c=document.getElementById("swatch-template");function l(e,t){let n=12*t,o=[];for(var a=n-12;a<n&&!(a>e.length-1);a++)o.push(e[a]);return o}function i(e){let t=e.target.dataset.page,n=l(activeCollection,t);a.querySelector(".active").classList.remove("active"),e.target.classList.add("active"),y(n)}function r(e,t,n){n/=100;const o=t*Math.min(n,1-n)/100,a=t=>{const a=(t+e/30)%12,c=n-o*Math.max(Math.min(a-3,9-a,1),-1);return Math.round(255*c).toString(16).padStart(2,"0")};return`${a(0)}${a(8)}${a(4)}`}function s(e){o.innerHTML="",[{h:e.h,s:e.s,l:e.l-20>-1?e.l-20:0},{h:e.h,s:e.s,l:e.l-10>-1?e.l-10:0},e,{h:e.h,s:e.s,l:e.l+10<101?e.l+10:100},{h:e.h,s:e.s,l:e.l+20<101?e.l+20:100}].forEach((e=>{let t=function(e){let t=r(e.h,e.s,e.l),n=c.content.firstElementChild.cloneNode(!0);return n.querySelector(".color").style.backgroundColor=`#${t}`,n.querySelector(".label").innerText=`#${t}`,n}(e);o.append(t)}))}function d(e){console.log("opening active window for ",e.hex),n.querySelector(".active-color").style.backgroundColor=`#${e.hex}`,n.querySelector(".active-label").innerText=`#${e.hex}`,s(e),n.classList.add("open")}function u(){n.classList.remove("open")}function h(e){activeCollection=e,function(e){let t=Math.ceil(e.length/12);a.innerHTML="";for(let e=0;e<t;e++){let t=document.createElement("li");t.innerText=e+1,t.dataset.page=e+1,t.addEventListener("click",i),0===e&&t.classList.add("active"),a.append(t)}}(activeCollection)}async function g(){h(await async function(){let t=await fetch(e);return await t.json()}()),y(l(activeCollection,1))}async function m(t){t.includes("#")&&(console.log("removed a hash"),t=t.replace("#",""));let n=await fetch(e+`/${t}`);return await n.json()}function f(t){!function(t){fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then((e=>e.json())).then((e=>{console.log("Success:",e)})).catch((e=>{console.error("Error:",e)}))}(t.target.parentNode.dataset.id),t.target.parentNode.remove()}function y(e){t.innerHTML="",e.forEach((e=>{let n=c.content.firstElementChild.cloneNode(!0);n.querySelector(".color").style.backgroundColor=`#${e.hex}`,n.querySelector(".label").innerText=`#${e.hex}`,n.dataset.id=e._id,n.dataset.hex=e.hex;let o=document.createElement("div");o.classList.add("remove-tile"),o.innerHTML="x",o.addEventListener("click",f),n.append(o),n.addEventListener("click",(function(t){t.target.classList.contains("remove-tile")||d(e)})),t.append(n)}))}async function v(t){u(),h(await async function(t){let n=await fetch(e+`/category/${t}`);return await n.json()}(t.target.innerText.toLowerCase())),y(l(activeCollection,1))}n.style.transition="opacity 0.2s ease-in-out",document.getElementById("clear").addEventListener("click",u),g(),document.querySelectorAll(".color-category").forEach((function(e){console.log(e),e.addEventListener("click",v)})),document.getElementById("random").addEventListener("click",(async function(t){d(await async function(){let t=await fetch(e+"/random");return await t.json()}())})),console.log(document.getElementById("generate-by-count")),document.getElementById("generate-by-count")&&document.getElementById("generate-by-count").addEventListener("click",(function(){let t=document.getElementById("generator-count").value;console.log("going with count",t),function(t){for(let n=0;n<t;n++){let t={h:Math.floor(361*Math.random()),s:Math.floor(101*Math.random()),l:Math.floor(101*Math.random())},o=r(t.h,t.s,t.l);if(console.log("random hex",o),m(o).length>0){console.log("ima skip this 1 chief"),n--;continue}let a={h:t.h,s:t.s,l:t.l,hex:o};fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((e=>e.json())).then((e=>{console.log("Success:",e)})).catch((e=>{console.error("Error:",e)}))}}(t)}));const p=document.getElementById("search"),E=(w=async function(n){if(u(),""===n.target.value||" "===n.target.value)return void g();h(await async function(t){t.includes("#")&&(t=t.replace("#",""));let n=await fetch(e+`/search/${t}`);return await n.json()}(n.target.value));let o=l(activeCollection,1);o.length<1?t.innerHTML=`<div class="no-results">There were no hex codes containing <strong>"${n.target.value}"</strong>.<br/>Please try another search.</div>`:y(o)},L=300,function(){var e=this,t=arguments,n=function(){x=null,S||w.apply(e,t)},o=S&&!x;clearTimeout(x),x=setTimeout(n,L),o&&w.apply(e,t)});var w,L,S,x;p.addEventListener("input",E),window.activeCollection={},"yes"===new URLSearchParams(window.location.search).get("admin")&&document.querySelector("body").classList.add("admin"),document.querySelector(".logo").href=window.location.href;
//# sourceMappingURL=index.51f11ff5.js.map
