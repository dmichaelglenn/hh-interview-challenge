const e=document.getElementById("main"),t=document.getElementById("active-window"),n=document.getElementById("fake-tiles"),o=document.getElementById("pagination"),c=document.getElementById("swatch-template");function a(e,t){let n=12*t,o=[];for(var c=n-12;c<n&&!(c>e.length-1);c++)o.push(e[c]);return o}function l(e){let t=e.target.dataset.page,n=a(activeCollection,t);o.querySelector(".active").classList.remove("active"),e.target.classList.add("active"),u(n)}function r(e,t,n){n/=100;const o=t*Math.min(n,1-n)/100,c=t=>{const c=(t+e/30)%12,a=n-o*Math.max(Math.min(c-3,9-c,1),-1);return Math.round(255*a).toString(16).padStart(2,"0")};return`${c(0)}${c(8)}${c(4)}`}function s(e){n.innerHTML="",[{h:e.h,s:e.s,l:e.l-20>-1?e.l-20:0},{h:e.h,s:e.s,l:e.l-10>-1?e.l-10:0},e,{h:e.h,s:e.s,l:e.l+10<101?e.l+10:100},{h:e.h,s:e.s,l:e.l+20<101?e.l+20:100}].forEach((e=>{let t=function(e){let t=r(e.h,e.s,e.l),n=c.content.firstElementChild.cloneNode(!0);return n.querySelector(".color").style.backgroundColor=`#${t}`,n.querySelector(".label").innerText=`#${t}`,n}(e);n.append(t)}))}function d(e){console.log("opening active window for ",e.hex),t.querySelector(".active-color").style.backgroundColor=`#${e.hex}`,t.querySelector(".active-label").innerText=`#${e.hex}`,s(e),t.classList.add("open")}function h(e){activeCollection=e,function(e){let t=Math.ceil(e.length/12);for(o.innerHTML="",i=0;i<t;i++){let e=document.createElement("li");e.innerText=i+1,e.dataset.page=i+1,e.addEventListener("click",l),0===i&&e.classList.add("active"),o.append(e)}}(activeCollection)}function u(t){e.innerHTML="",t.forEach((t=>{const n=c.content.firstElementChild.cloneNode(!0);n.querySelector(".color").style.backgroundColor=`#${t.hex}`,n.querySelector(".label").innerText=`#${t.hex}`,n.dataset.id=t._id,n.dataset.hex=t.hex,n.addEventListener("click",(function(){d(t)})),e.append(n)}))}async function g(){h(await async function(){let e=await fetch("http://localhost:8080/colors");return await e.json()}()),u(a(activeCollection,1))}async function m(e){e.includes("#")&&(console.log("removed a hash"),e=e.replace("#",""));let t=await fetch(`http://localhost:8080/colors/${e}`);return await t.json()}async function f(e){h(await async function(e){let t=await fetch(`http://localhost:8080/colors/category/${e}`);return await t.json()}(e.target.innerText.toLowerCase())),u(a(activeCollection,1))}document.getElementById("clear").addEventListener("click",(function(){t.classList.remove("open")})),g(),document.querySelectorAll(".color-category").forEach((function(e){console.log(e),e.addEventListener("click",f)})),document.getElementById("random").addEventListener("click",(async function(e){d(await async function(){let e=await fetch("http://localhost:8080/colors/random");return await e.json()}())})),document.getElementById("generate-by-count").length>0&&document.getElementById("generate-by-count").addEventListener("click",(function(){let e=document.getElementById("generator-count").value;console.log("going with count",e),function(e){for(let t=0;t<e;t++){let e={h:Math.floor(361*Math.random()),s:Math.floor(101*Math.random()),l:Math.floor(101*Math.random())},n=r(e.h,e.s,e.l);if(console.log("random hex",n),m(n).length>0){console.log("ima skip this 1 chief"),t--;continue}let o={h:e.h,s:e.s,l:e.l,hex:n};fetch("http://localhost:8080/colors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((e=>e.json())).then((e=>{console.log("Success:",e)})).catch((e=>{console.error("Error:",e)}))}}(e)}));const y=document.getElementById("search"),v=(p=async function(t){if(""===t.target.value||" "===t.target.value)return void g();h(await async function(e){e.includes("#")&&(e=e.replace("#",""));let t=await fetch(`http://localhost:8080/colors/search/${e}`);return await t.json()}(t.target.value));let n=a(activeCollection,1);n.length<1?e.innerHTML=`<div class="no-results">There were no hex codes containing <strong>"${t.target.value}"</strong>.<br/>Please try another search.</div>`:u(n)},w=300,function(){var e=this,t=arguments,n=function(){L=null,E||p.apply(e,t)},o=E&&!L;clearTimeout(L),L=setTimeout(n,w),o&&p.apply(e,t)});var p,w,E,L;y.addEventListener("input",v),window.activeCollection={},"yes"===new URLSearchParams(window.location.search).get("admin")&&document.querySelector("body").classList.add("admin");
//# sourceMappingURL=index.9bcd72a5.js.map
